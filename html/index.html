<html>
<meta charset="utf-8" />
<head>
	<title>COIoT Home</title>
	<style>
	.button {
		display:inline-block;
		border: solid 5px;
		background-color: #ddd;
		box-shadow: none;
		border-radius: 10px;
		width: 80px;
		height:80px;
		margin: 5px;
		cursor: pointer;
	}

	.button > .light {
		position: relative;
		width: 60px;
		left: 5px;
		height: 10px;
		border: solid 5px #655;
	}

	.on {
		border-color: #2d3;
	}

	.off {
		border-color: #f62;
	}
	</style>
	<script type="text/javascript">
	'use strict';

	class Device {
		constructor(imgurl) {
			this.handle = document.createElement('a');
			this.handle.className = "button off";
			this.handle.style.backgroundImage = 'url("/img/' + imgurl + '")';
			this.handle.style.backgroundSize = "contain";
			this.handle.state = false;
			this.handle.onmousedown = function() {
				this.state = !this.state;
				if(this.state) {
					this.className = "button on";
					this.style.backgroundImage = this.style.backgroundImage.replace('.', '_on.');
				} else {
					this.className = "button off";
					this.style.backgroundImage = this.style.backgroundImage.replace('_on.', '.');
				}
			};

			document.getElementById('render').appendChild(this.handle);
		}
	}

	function main() {
		var b1 = new Device("oven_2.png");
		var b2 = new Device("light_2.png");
		var b2 = new Device("coffee_machine_2.png");
	}
	</script>
</head>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=0">
<body style="margin: 0; overflow:scroll; background-color: #ffe">
	<div id="render"></div>

	<script type="text/javascript" defer="defer">
	main();
	</script>
</body>
</html>
